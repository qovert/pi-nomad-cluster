# Cluster-wide settings
cluster_domain: hrkr.us
consul_datacenter: dc1
zfs_pool_root: /tank

# Packages
base_packages:
  - curl
  - gnupg2
  - ca-certificates
  - jq
  - unzip
  - dnsmasq

docker_packages:
  - docker-ce
  - docker-ce-cli
  - containerd.io
  - docker-buildx-plugin
  - docker-compose-plugin

# Consul/Nomad advertise addresses come from host_vars
consul_retry_join:
  - 172.16.30.30
  - 172.16.30.31
  - 172.16.30.32

# Secrets (store in Ansible Vault!)
hetzner_api_key: "CHANGE_ME_VIA_ANSIBLE_VAULT"
acme_contact_email: "admin@hrkr.us"

# Nomad host volumes (must exist on host paths)
nomad_host_volumes:
  containers:
    path: "{{ zfs_pool_root }}/containers"
  traefik_acme:
    path: "{{ zfs_pool_root }}/nomad/traefik-acme"
  code_workspace:
    path: "{{ zfs_pool_root }}/code-server/workspace"
  mongo_data:
    path: "{{ zfs_pool_root }}/mongodb"

# Deployment control
deploy_test_services: false   # Set to true for development/testing environments
deploy_code_server: true     # Set to false if you don't want code-server in production
deploy_rocketchat: false     # Set to true to deploy RocketChat team collaboration platform

# Environment type
clus_env: production     # Options: development, staging, production

# Deployment behavior control
verify_deployments: false        # Set to true to wait and verify service health after deployment
traefik_run_on_all_nodes: true   # Set to false to pin Traefik to pistor0 only

# Code-server configuration (optional - define password to enable)
# code_server_password: "your-secure-password-here"